---
layout: default
title: 行程单 Travel Itinerary
permalink: /itinerary.html
---

<!-- ========== Password + Client Validation ========== -->
<script>
  const PASSWORD = "123456";

  const getClient = () => new URLSearchParams(window.location.search).get("client");

  document.addEventListener("DOMContentLoaded", () => {
    const client = getClient();
    if (!client) {
      window.location.href = "/";
      return;
    }

    let tries = 0;
    function ask() {
      const input = prompt("请输入访问密码 / Enter password:");
      tries++;
      if (input === PASSWORD) {
        document.getElementById("itinerary").style.display = "block";
      } else {
        if (tries < 3) ask();
        else {
          alert("密码错误次数过多 / Too many incorrect attempts.");
          window.location.href = "/";
        }
      }
    }
    ask();
  });
</script>

<div id="itinerary" class="itinerary-container" style="display:none;">

{% assign client_name = page.client | default: site.params.default_client %}
{% assign client = "Alice" %} 
{% assign itinerary = site.data.itineraries | where: "client", client | first %}

<!-- =============================== -->
<!-- HEADER -->
<!-- =============================== -->
<header class="mb-4">
  <div class="row">
    <div class="col-sm-7">
      <img src="/assets/images/logo.png" alt="Logo">
    </div>
    <div class="col-sm-5 text-sm-right text-center">
      <h2>行程单 <span class="sub-en">Travel Itinerary</span></h2>
    </div>
  </div>
  <hr>
</header>


<!-- =============================== -->
<!-- PERSONAL INFO -->
<!-- =============================== -->
{% if itinerary.personal_info %}
<section class="section-block">
  <h3>旅客信息 <span class="sub-en">Traveler Information</span></h3>

  <div class="row">
    <div class="col-sm-4"><strong>姓名 / Name:</strong><p>{{ itinerary.personal_info.full_name }}</p></div>
    <div class="col-sm-4"><strong>邮箱 / Email:</strong><p>{{ itinerary.personal_info.email }}</p></div>
    <div class="col-sm-4"><strong>行程编号 / Reservation ID:</strong><p>{{ itinerary.personal_info.reservation_id }}</p></div>
    <div class="col-sm-12"><strong>地址 / Address:</strong><p>{{ itinerary.personal_info.address }}</p></div>
  </div>
</section>
{% endif %}


<!-- =============================== -->
<!-- JOINING INFO / 参团信息 -->
<!-- =============================== -->
{% if itinerary.joining_info %}
<section class="section-block">
  <h3>参团信息 <span class="sub-en">Joining Information</span></h3>

  <div class="row">
    <div class="col-sm-6">
      <h5>上团详情 <span class="sub-en">Start of Tour</span></h5>
      <p><strong>上团地点 / City:</strong> {{ itinerary.joining_info.depart_city }}</p>
      <p><strong>上团日期 / Date:</strong> {{ itinerary.joining_info.depart_date }}</p>
      <p>{{ itinerary.joining_info.depart_note }}</p>
      <p><strong>航班 / Flight:</strong> {{ itinerary.joining_info.depart_flight }}</p>
    </div>
    <div class="col-sm-6">
      <h5>下团详情 <span class="sub-en">End of Tour</span></h5>
      <p><strong>下团地点 / City:</strong> {{ itinerary.joining_info.end_city }}</p>
      <p><strong>下团日期 / Date:</strong> {{ itinerary.joining_info.end_date }}</p>
      <p>{{ itinerary.joining_info.end_note }}</p>
      <p><strong>航班 / Flight:</strong> {{ itinerary.joining_info.end_flight }}</p>
    </div>

    <div class="col-sm-12 mt-2 text-muted">
      {{ itinerary.joining_info.disclaimer }}
    </div>
  </div>
</section>
{% endif %}


<!-- =============================== -->
<!-- FLIGHTS SECTION -->
<!-- =============================== -->
{% if itinerary.flights %}
<section class="section-block">
  <h3>航班信息 <span class="sub-en">Flight Information</span></h3>

  {% for flight in itinerary.flights %}
  <div class="sub-card">
    <div class="row">
      <div class="col-sm-4"><strong>起飞时间 / Departure:</strong> {{ flight.departure_time }}</div>
      <div class="col-sm-4"><strong>到达时间 / Arrival:</strong> {{ flight.arrival_time }}</div>
      <div class="col-sm-4"><strong>航空公司 / Airline:</strong> {{ flight.airline }}</div>
      <div class="col-sm-4"><strong>航班号 / Code:</strong> {{ flight.confirm_code }}</div>
      <div class="col-sm-4"><strong>出发地 / From:</strong> {{ flight.departure }}</div>
      <div class="col-sm-4"><strong>登机口 / Gate:</strong> {{ flight.gate }}</div>
    </div>
  </div>
  {% endfor %}
</section>
{% endif %}


<!-- =============================== -->
<!-- HOTELS -->
<!-- =============================== -->
{% if itinerary.hotels %}
<section class="section-block">
  <h3>酒店信息 <span class="sub-en">Hotel</span></h3>

  {% for hotel in itinerary.hotels %}
  <div class="sub-card">
    <p><strong>酒店名称 / Name:</strong> {{ hotel.name }}</p>
    <p><strong>入住日期 / Check-in:</strong> {{ hotel.check_in }}</p>
    <p><strong>退房日期 / Check-out:</strong> {{ hotel.check_out }}</p>
    <p><strong>房号 / Room:</strong> {{ hotel.room_no }}</p>
    <p><strong>预订号 / Booking No:</strong> {{ hotel.booking_no }}</p>
    <p><strong>地址 / Address:</strong> {{ hotel.address }}</p>
  </div>
  {% endfor %}
</section>
{% endif %}


<!-- =============================== -->
<!-- CAR RENTALS -->
<!-- =============================== -->
{% if itinerary.car_rentals %}
<section class="section-block">
  <h3>租车信息 <span class="sub-en">Car Rental</span></h3>

  {% for car in itinerary.car_rentals %}
  <div class="sub-card">
    <p><strong>公司 / Company:</strong> {{ car.company }}</p>
    <p><strong>取车时间 / Pick-up:</strong> {{ car.pick_up_time }}</p>
    <p><strong>取车地点 / Location:</strong> {{ car.pick_up_location }}</p>
    <p><strong>还车时间 / Drop-off:</strong> {{ car.drop_off_time }}</p>
    <p><strong>还车地点 / Location:</strong> {{ car.drop_off_location }}</p>
  </div>
  {% endfor %}
</section>
{% endif %}


<!-- =============================== -->
<!-- DAILY ITINERARY -->
<!-- =============================== -->
{% if itinerary.daily_itinerary %}
<section class="section-block">
  <h3>每日行程 <span class="sub-en">Daily Itinerary</span></h3>

  {% for day in itinerary.daily_itinerary %}
  <div class="day-card">
    <div class="day-header">
      第{{ day.day }}天 Day {{ day.day }} — {{ day.city }}  
      <span class="date">{{ day.date }} ({{ day.weekday }})</span>
    </div>
    <div class="day-body">
      <p>{{ day.overview }}</p>

      {% if day.flight_info %}
      <p><strong>航班信息 / Flight:</strong> {{ day.flight_info }}</p>
      {% endif %}

      {% if day.hotel %}
      <p><strong>夜宿 / Hotel:</strong> {{ day.hotel.name }}</p>
      <p><strong>地址 / Address:</strong> {{ day.hotel.address }}</p>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</section>
{% endif %}


<!-- =============================== -->
<!-- NOTES / 信息板块 -->
<!-- =============================== -->
{% if itinerary.notes %}
<section class="section-block">
  <h3>附加信息 <span class="sub-en">Additional Information</span></h3>

  <p><strong>费用 / Fees:</strong> {{ itinerary.notes.fees }}</p>
  <p><strong>提示 / Tips:</strong> {{ itinerary.notes.important_tips }}</p>
  <p><strong>安全提示 / Safety:</strong> {{ itinerary.notes.safety }}</p>
</section>
{% endif %}

</div>
